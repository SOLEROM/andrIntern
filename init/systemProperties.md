# systemProperties

* provide a globally accessible repository of configuration settings
* 


* /init provides read access to properties - getprop - to all processes on the system via shared memeory
* /init provides property_service which allows write access - setprop

## config files
* loads properties from several files
* order of loading does matter

* (1) /default.prop 
* PROP_PATH_RAMDISK_DEFAULT
* Initial settings
* this file is part of the initramfs, and not present on the device's flash partitions
 
* (2) /system/build.prop
* PROP_PATH_SYSTEM_BUILD
* Settings generated by the Android build process

* (3) /system/default.prop
* PROP_PATH_SYSTEM_DEFAULT
* Settings usually added by vendor

* (4) /data/local.prop
* PROP_PATH_LOCAL_OVERRIDE
* Loaded if init was compiled with ALLOW_LOCAL_PROP_OVERRIDE
* and if ro.debuggable property is set to 1
* enables developers to override previous settings by dropping a file into /data

* (5) /data/property/persist*
* PERSISTENT_PROPERTY_DIR
* saved across reboot individually files in this directory
* init can also re-load them at any time using the load_persist_props directive in the /init.rc


## read only 
* The read-only file descriptor of the property file is set to be inheritable by children
* allows any process in the system easy access to system properties
* allows all users of the properties area to share the same physical memory backing the property area
* The only write access to this area, however, remains in the hands (and memory) of init

## service
* In order to service write requests, init opens up a dedicated UNIX domain socket
* /dev/socket/property_service which is world-writable (0666)
* up to init to enforce permissions on the properties

## Property namespaces

* (1) persist
* designates the property as meant to survive reboot
* backed up by files in /data/property/ , which must be owned by root:root , with no links.

* (2) ro
* is used for "read-only" properties
* C constants, may be set once and once-only, irrespective of owner UID

* (3) ctl
* control init's services
* setting the ctr.start or ctr.stop properties (respectively) to the service name

## access
* use [propertyToolbox](propertyToolbox.md)



